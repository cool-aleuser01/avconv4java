{"name":"Avconv4java","tagline":"Java interface to avconv tool","body":"\r\nIntroduction\r\n============\r\n\r\nProject \"avconv4java\" is a pure-java interface to the avconv commandline.\r\n\r\nOfficial avconv documentation could be found here: http://libav.org/avconv.html\r\n\r\n\r\nFeatures\r\n========\r\n\r\n* Supports most avconv commands\r\n* Reuse a commandline multiple times for different set of parameters\r\n* Options and operators translate into similar method-names, e.g.\r\n    * -vcodec libx264 -> .videoCodec(AVVideoCodecType.H264)\r\n    * -vcodec libtheora -> .videoCodec(AVVideoCodecType.THEORA)\r\n    * -vcodec libtheora -> .videoCodec(\"libtheora\")\r\n* Parallel processing out of box\r\n\r\n\r\nExample\r\n=======\r\n\r\nFirst of all you need to configure options for avconv command. Builder pattern allows to do it as simple as possible:\r\n\r\n```java\r\nfinal AVOptions options = AVRootOptions.create(\"input.avi\", \"output.mp4\")\r\n    .builders(\r\n        AVMainOptions.create()\r\n            .overwriteOutput(),\r\n        AVVideoOptions.create()\r\n            .proportionalResizeUsingWidth(800)\r\n            .videoCodec(AVVideoCodecType.H264)\r\n            .movFlags(AVMovFlagsType.FAST_START),\r\n        AVAudioOptions.create()\r\n            .audioCodec(AVAudioCodecType.VISUAL_ON_AAC)\r\n            .audioBitRate(128)\r\n            .audioChannelsCount(2)\r\n            .sampleRate(11025),\r\n        AVCodecOptions.create()\r\n            .bitRate(1000)\r\n    )\r\n```\r\n\r\nTo execute avconv command with needed options you should use the class com.avconv4java.core.AVCommnad:\r\n\r\n```java\r\n// It'll be better to configure timeout always. Debug is useful sometimes.\r\nfinal AVCommand command = AVCommand.create()\r\n    .setDebug(true)\r\n    .setTimeout(timeout);\r\n\r\nfinal int returnCode = command.run(options);\r\nfinal String outputFile = options.getOutputFile();\r\n\r\nLogger.getGlobal().info(\r\n    String.format(\"Output file: %s, return code: %d\", outputFile, returnCode)\r\n);\r\n\r\n```\r\n\r\nThis command is equivalent to the following:\r\n\r\n\r\n```bash\r\n/usr/bin/avconv -i input.avi -y -vf scale=w=800:h=trunc(ow/a/2)*2 -vcodec libx264 -movflags faststart -acodec libvo_aacenc -ab 128k -b 1000k -ac 2 -ar 11025 output.mp4\r\n```\r\n\r\n\r\nFAQ\r\n===\r\n\r\n<dl>\r\n    <dt>What is the default avconv path value?</dt>\r\n    <dd>Environment variable \"AVCONV4JAVA_TOOLPATH\" will be checked in priority, otherwise it will be \"/usr/bin/avconv\".</dd>\r\n</dl>\r\n\r\n\r\nLicense\r\n=======\r\n\r\n```\r\nCopyright 2014 Vladislav Bauer\r\n\r\nLicensed under the Apache License, Version 2.0 (the \"License\");\r\nyou may not use this file except in compliance with the License.\r\nYou may obtain a copy of the License at\r\n\r\n    http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nUnless required by applicable law or agreed to in writing, software\r\ndistributed under the License is distributed on an \"AS IS\" BASIS,\r\nWITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\nSee the License for the specific language governing permissions and\r\nlimitations under the License.\r\n```\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}